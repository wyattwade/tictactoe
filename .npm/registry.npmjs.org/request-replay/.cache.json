{"_id":"request-replay","_rev":"27-423c88d41d68df10817352c5205b5c2e","name":"request-replay","description":"Replays a request when a network error occurs","dist-tags":{"latest":"1.0.2"},"versions":{"0.1.1":{"name":"request-replay","version":"0.1.1","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0","deep-extend":"~0.2.5"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.1","dist":{"shasum":"21f4cff3987904b380b505c281a645641ef66a50","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.1.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.3":{"name":"request-replay","version":"0.1.3","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0","deep-extend":"~0.2.5"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.3","dist":{"shasum":"dd66a11d9576e3abeae6b1909a4b18bb09818a26","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.3.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.4":{"name":"request-replay","version":"0.1.4","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0","deep-extend":"~0.2.5"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.4","dist":{"shasum":"0dd526c38a3af45fb9bdd095bd1a3e1d93344f0a","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.4.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.5":{"name":"request-replay","version":"0.1.5","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.5","dist":{"shasum":"ad3c03187c86e27c74b0badcfceab84df24f7af0","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.5.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.6":{"name":"request-replay","version":"0.1.6","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.6","dist":{"shasum":"d8e8915f720d06fdeb277971d67ccf52ca25ec3f","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.6.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.7":{"name":"request-replay","version":"0.1.7","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.7","dist":{"shasum":"0e3a0f451ac743d8f153d6694fa1c3d0d7a07822","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.7.tgz"},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.8":{"name":"request-replay","version":"0.1.8","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.8","dist":{"shasum":"778e446bc422ba031cfa7c6a95d639570c1191b2","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.8.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.1.10":{"name":"request-replay","version":"0.1.10","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.1.10","dist":{"shasum":"94cebf99bebce6a3539f146082da349561f32c9f","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.1.10.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.2.0":{"name":"request-replay","version":"0.2.0","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.2.0","dist":{"shasum":"9b693a5d118b39f5c596ead5ed91a26444057f60","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.2.0.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"0.3.0":{"name":"request-replay","version":"0.3.0","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"~0.6.0"},"devDependencies":{"mocha":"~1.12.0","expect.js":"~0.2.0","request":"~2"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","_id":"request-replay@0.3.0","dist":{"shasum":"52e66115579a5154a9e303c677e5a84bcafda464","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-0.3.0.tgz"},"_from":".","_npmVersion":"1.3.5","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"directories":{}},"1.0.0":{"name":"request-replay","version":"1.0.0","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"^0.8.0"},"devDependencies":{"expect.js":"^0.3.1","mocha":"^2.3.4","request":"^2.67.0"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay.git"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","gitHead":"b91804347b79d073a6c20d64fbd5fd94cfa590a2","homepage":"https://github.com/IndigoUnited/node-request-replay#readme","_id":"request-replay@1.0.0","_shasum":"8150a765616a7742bc3aac2104bd9922a4676fad","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.3","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"dist":{"shasum":"8150a765616a7742bc3aac2104bd9922a4676fad","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-1.0.0.tgz"},"directories":{}},"1.0.1":{"name":"request-replay","version":"1.0.1","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"^0.8.0"},"devDependencies":{"expect.js":"^0.3.1","mocha":"^2.3.4","request":"^2.67.0"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay.git"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","gitHead":"9bbf1b60ff12107972a314defc37139540381436","homepage":"https://github.com/IndigoUnited/node-request-replay#readme","_id":"request-replay@1.0.1","_shasum":"f791aab8ed0ca14280dd1b72022423b42b28aca9","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.3","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"dist":{"shasum":"f791aab8ed0ca14280dd1b72022423b42b28aca9","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-1.0.1.tgz"},"directories":{}},"1.0.2":{"name":"request-replay","version":"1.0.2","description":"Replays a request when a network error occurs","main":"index.js","dependencies":{"retry":"^0.8.0"},"devDependencies":{"expect.js":"^0.3.1","mocha":"^2.3.4","request":"^2.67.0"},"scripts":{"test":"mocha -R spec"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay.git"},"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"keywords":["retry","replay","request","mikeal","network"],"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"license":"MIT","gitHead":"8137d37eb294a2eef6411f0d545696ce0ac51e20","homepage":"https://github.com/IndigoUnited/node-request-replay#readme","_id":"request-replay@1.0.2","_shasum":"05de7f7e66d98936948b172b1eae823f07f117b7","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.3","_npmUser":{"name":"satazor","email":"andremiguelcruz@msn.com"},"maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"dist":{"shasum":"05de7f7e66d98936948b172b1eae823f07f117b7","tarball":"http://registry.npmjs.org/request-replay/-/request-replay-1.0.2.tgz"},"directories":{}}},"readme":"# request-replay\n\n[![NPM version][npm-image]][npm-url] [![Downloads][downloads-image]][npm-url] [![Build Status][travis-image]][travis-url] [![Dependency status][david-dm-image]][david-dm-url] [![Dev Dependency status][david-dm-dev-image]][david-dm-dev-url]\n\n[npm-url]:https://npmjs.org/package/request-replay\n[downloads-image]:http://img.shields.io/npm/dm/request-replay.svg\n[npm-image]:http://img.shields.io/npm/v/request-replay.svg\n[travis-url]:https://travis-ci.org/IndigoUnited/node-request-replay\n[travis-image]:http://img.shields.io/travis/IndigoUnited/node-request-replay.svg\n[david-dm-url]:https://david-dm.org/IndigoUnited/node-request-replay\n[david-dm-image]:https://img.shields.io/david/IndigoUnited/node-request-replay.svg\n[david-dm-dev-url]:https://david-dm.org/IndigoUnited/node-request-replay#info=devDependencies\n[david-dm-dev-image]:https://img.shields.io/david/dev/IndigoUnited/node-request-replay.svg\n\nReplays a [request](https://github.com/mikeal/request) when a network error occurs using the [retry](https://github.com/felixge/node-retry) module.\n\n**DO NOT** use this module if you are piping `request` instances.\nIf you are listening to `data` events to buffer, beware that you must reset everything when a `replay` occurs.\nThis is why `pipping` is not supported.\n\n\n## Installation\n\n`$ npm install request-replay`\n\n\n## Usage\n\n```js\nvar fs = require('fs');\nvar request = require('request');\nvar replay = require('request-replay');\n\n// Note that the options argument is optional\n// Accepts the same options the retry module does and an additional\n// errorCodes array with error codes that cause the replay to happen\n// Check out the code to see which is the default value for it\nreplay(request('http://google.com/doodle.png', function (err, response, body) {\n    // Do things\n}), {\n    retries: 10,\n    factor: 3\n})\n.on('replay', function (replay) {\n    // \"replay\" is an object that contains some useful information\n    console.log('request failed: ' + replay.error.code + ' ' + replay.error.message);\n    console.log('replay nr: #' + replay.number);\n    console.log('will retry in: ' + replay.delay + 'ms')\n});\n```\n\nNote that the default retry options are modified to be more appropriate for requests:\n\n* `retries`: The maximum amount of times to retry the operation. Default is `5`.\n* `factor`: The exponential factor to use. Default is `2`.\n* `minTimeout`: The amount of time before starting the first retry. Default is `2000`.\n* `maxTimeout`: The maximum amount of time between two retries. Default is `35000`.\n* `randomize`: Randomizes the timeouts by multiplying with a factor between `1` to `2`. Default is `true`.\n\n\n**The request hangs when my connection is broken and no replay is issued**\n\nIn some OS, the socket timeout is 0 and you must explicitly set it in `request`:\n\n```js\nrequest.on('socket', function (socket) {\n    socket.on('timeout', console.log.bind(console, 'timeout'));\n    socket.setTimeout(10000, socket.end.bind(socket));\n});\n```\n\n\n## License\n\nReleased under the [MIT License](http://www.opensource.org/licenses/mit-license.php).\n","maintainers":[{"name":"satazor","email":"andremiguelcruz@msn.com"}],"time":{"modified":"2016-01-04T09:53:23.448Z","created":"2013-07-20T18:40:29.480Z","0.1.1":"2013-07-20T18:40:32.712Z","0.1.3":"2013-07-20T21:01:50.683Z","0.1.4":"2013-07-20T21:37:54.101Z","0.1.5":"2013-07-31T20:42:38.049Z","0.1.6":"2013-08-01T13:42:17.982Z","0.1.7":"2013-08-01T14:21:04.254Z","0.1.8":"2013-08-02T00:34:35.652Z","0.1.10":"2013-08-02T13:14:03.013Z","0.2.0":"2013-08-03T11:38:54.337Z","0.3.0":"2013-11-27T15:15:08.182Z","1.0.0":"2016-01-03T14:19:09.408Z","1.0.1":"2016-01-03T14:25:09.106Z","1.0.2":"2016-01-04T09:53:23.448Z"},"author":{"name":"IndigoUnited","email":"hello@indigounited.com","url":"http://indigounited.com"},"repository":{"type":"git","url":"git://github.com/IndigoUnited/node-request-replay.git"},"users":{"amirmehmood":true,"subchen":true,"j3kz":true},"homepage":"https://github.com/IndigoUnited/node-request-replay#readme","keywords":["retry","replay","request","mikeal","network"],"bugs":{"url":"http://github.com/IndigoUnited/node-request-replay/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{},"_etag":"\"C06J2TXOLNQFOKBYRAW20ZNSX\""}